<mvc:View
    controllerName="inventorymanagement.controller.Warehouse1"
    xmlns:mvc="sap.ui.core.mvc"
    displayBlock="true"
    xmlns="sap.m"
    xmlns:core="sap.ui.core"
    xmlns:fb="sap.ui.comp.filterbar"
    xmlns:f="sap.f"
>
    <Page id="page2">
        <Toolbar
            class="sapUiMediumMarginTop"
            id="toolbar1"
        >
            <Label text="{localmodel>/WarehouseName}" />
            <ToolbarSpacer />
            <Button text="Warehouse display" press="onPressGoto" />

            <core:ComponentContainer width="100%" usage="spreadsheetImporter" propagateModel="true" async="true" 
      settings="{
        standalone:true,
        readAllSheets:true,
        columns: ['ProductID,Name,Manufacturer,Storage,Section,Bin,Rack'],
        componentContainerData:{
          uploadButtonPress:'uploadButtonPress',
          buttonText:'Excel Upload Button'
          }
        }" />
        </Toolbar>
        <fb:FilterBar
            id="filterbar"
            useToolbar="false"
            search="onSearch"
            showFilterConfiguration="false"
        >
            <fb:filterGroupItems>
                <fb:FilterGroupItem
                    name="Storage"
                    label="{i18n>Storage Type}"
                    groupName="Group1"
                    visibleInFilterBar="true"
                >
                    <fb:control>
                        <MultiComboBox
                            id="SID"
                            name="Storage"
                            selectionChange=".onSelectionChange"
                            items="{localmodel>/Warehouse/Storage}"
                        >
                            <core:Item
                                key="{localmodel>name}"
                                text="{localmodel>value}"
                            />
                        </MultiComboBox>
                        <!-- <ComboBox
                            id="SID"
                            items="{localmodel>/Storage}"
                            change="onChangeStorage"
                            selectedKey="{localmodel>/name}"
                        >
                            <core:Item
                                key="{localmodel>name}"
                                text="{localmodel>value}"
                            />
                        </ComboBox> -->
                    </fb:control>
                </fb:FilterGroupItem>
                <fb:FilterGroupItem
                    name="Section"
                    label="{i18n> Storage Section}"
                    groupName="Group1"
                    visibleInFilterBar="true"
                >
                    <fb:control>
                        <MultiComboBox
                            id="SectionId"
                            items="{localmodel>/Warehouse/Section}"
                            change="onChangeSection"
                            selectedKey="{localmodel>/name}"
                        >
                            <core:Item
                                key="{localmodel>name}"
                                text="{localmodel>value}"
                            />
                        </MultiComboBox>
                    </fb:control>
                </fb:FilterGroupItem>
                <fb:FilterGroupItem
                    name=" Storage "
                    label="{i18n>Storage Rack}"
                    groupName="Group1"
                    visibleInFilterBar="true"
                >
                    <fb:control>
                        <MultiComboBox
                            id="BinId"
                            items="{localmodel>/Warehouse/Rack}"
                            change="onChangebin"
                            selectedKey="{localmodel>/name}"
                        >
                            <core:Item
                                key="{localmodel>name}"
                                text="{localmodel>value}"
                            />
                        </MultiComboBox>
                    </fb:control>
                </fb:FilterGroupItem>
                <fb:FilterGroupItem
                    name="Rack"
                    label="{i18n>Storage Bin}"
                    groupName="Group1"
                    visibleInFilterBar="true"
                >
                    <fb:control>
                        <MultiComboBox
                            id="RackId"
                            items="{localmodel>/Warehouse/Bin}"
                            change="onChangeRack"
                            selectedKey="{localmodel>/name}"
                        >
                            <core:Item
                                key="{localmodel>name}"
                                text="{localmodel>value}"
                            />
                        </MultiComboBox>
                    </fb:control>
                </fb:FilterGroupItem>
            </fb:filterGroupItems>
        </fb:FilterBar>

        <!-- <Table
            id="table"
            inset="false"
            items="{localmodel>/Warehouse/WarehouseCollection}"
            mode="SingleSelectMaster"
            itemPress="onChange"
        > -->
             <Table id="table"  items="{tableData>/}" width="auto" mode="SingleSelectMaster" itemPress="onChange">
           	<headerToolbar>
				<OverflowToolbar>
                <Text text="Dummy" itemPress="onChange"></Text>
               
					<ToolbarSpacer />

					<Button icon="sap-icon://excel-attachment" press="onExport"/>
				</OverflowToolbar>
			</headerToolbar><columns>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="ProductID" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="Name" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="Manufacturer" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="Storage" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="Section" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="Bin" />
                </Column>
                <Column
                    minScreenWidth="Tablet"
                    demandPopin="true"
                >
                    <Text text="Rack" />
                </Column>
            </columns>

            <items>
                <ColumnListItem
                    vAlign="Middle"
                    type="Navigation"
                >
                    <cells>
                        <Text text="{tableData>ProductID}" />
                        <Text text="{tableData>Name}" />
                        <Text text="{tableData>Manufacturer}" />
                        <Text text="{tableData>Storage}" />
                        <Text text="{tableData>Section}" />
                        <Text text="{tableData>Bin}" />
                        <Text text="{tableData>Rack}" />
                    </cells>
                </ColumnListItem>
            </items>
        </Table>
    </Page>
</mvc:View>
